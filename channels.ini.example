[DEFAULT]
repl-user = replicator
repl-password =
repl-ssl-ca = /run/keys/ca.crt
repl-ssl-cert = /run/keys/foo.crt
repl-ssl-key = /run/keys/foo.key

; To create dumps:
mysqldump = mysqldump
mysqldump-all-databases = 1
mysqldump-compress = 1
mysqldump-host = %(host)s
mysqldump-master-data=2
mysqldump-password = %(repl-password)s
mysqldump-ssl-ca = %(repl-ssl-ca)s
mysqldump-ssl-cert = %(repl-ssl-cert)s
mysqldump-ssl-key = %(repl-ssl-key)s
mysqldump-user = %(repl-user)s

dump-dir = /var/dumps
; Compression is determined by extension, only gzip supported for a while:
dump = %(dump-dir)s/%(channel)s.mysql.gz

; To import dumps:
mysql = mysql
mysql-max-allowed-packet=64M
mysql-user = root

; SQL encasing dump:
begin-import-sql = SET autocommit=0; SET unique_checks=0; SET foreign_key_checks=0;
end-import-sql = COMMIT;

; e. g. drop some tables:
after-import-sql =

; for MariaDB
start-slave-sql = START SLAVE '%(channel)s';
stop-slave-sql = STOP SLAVE '%(channel)s';

; for MySQL >= 5.7
;start-slave-sql = START SLAVE FOR CHANNEL='%(channel)s';
;stop-slave-sql = STOP SLAVE FOR CHANNEL='%(channel)s';

master-ssl-sql = MASTER_SSL=1, MASTER_SSL_CA='%(repl-ssl-ca)s', MASTER_SSL_CERT='%(repl-ssl-cert)s', MASTER_SSL_KEY='%(repl-ssl-key)s'
master-log-sql = MASTER_LOG_FILE='%(log-file)s', MASTER_LOG_POS=%(log-pos)s
master-auth-sql = MASTER_USER='%(repl-user)s', MASTER_PASSWORD='%(repl-password)s'
master-host-sql = MASTER_HOST='%(host)s' 
change-master-sql = CHANGE MASTER '%(channel)s' TO %(master-log-sql)s, %(master-auth-sql)s, %(master-ssl-sql)s, %(master-host-sql)s;

; auto means section name
channel = auto

; auto means values from dumps
log-file = auto
log-pos = auto


[example1]
host = 192.168.1.2
repl-ssl-ca = /run/keys/somewhere.crt
repl-user = repl

[example2]
channel = foo
host = 192.168.1.3
repl-ssl-ca = /run/keys/somewhere.crt

[example]
host = life
channel = life
dump-dir = /var/tmp
mysqldump-user = foo
mysql-force = 1

[rds]
host = you-know-where.example.com
log-file = foo.0011
log-pos = 123

[db02]
dump = /var/tmp/db02.mysql.gz

